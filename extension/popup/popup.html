<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <!-- Login View -->
  <div id="login-view" class="container hidden">
    <h1>Imitation</h1>
    <p class="subtitle">Sign in to add flashcards</p>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" placeholder="Enter email" autocomplete="email">
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" id="password" placeholder="Enter password" autocomplete="current-password">
    </div>
    <div id="login-error" class="error hidden"></div>
    <button id="login-btn" class="btn-primary">Sign In</button>
  </div>

  <!-- Main View (Add Cards) -->
  <div id="main-view" class="container hidden">
    <div class="header">
      <h1>Add Flashcards</h1>
      <div class="header-actions">
        <button id="settings-btn" class="btn-icon" title="Settings">&#9881;</button>
      </div>
    </div>
    <div class="form-group">
      <label for="deck-select">Deck</label>
      <select id="deck-select">
        <option value="">Loading decks...</option>
      </select>
    </div>

    <!-- Batch card container -->
    <div id="card-entries">
      <div class="card-entry" data-index="0">
        <div class="card-entry-header">
          <span class="card-entry-label">Card 1</span>
          <button class="btn-remove-card hidden" title="Remove card">&times;</button>
        </div>
        <div class="form-group">
          <label>Question (Front)</label>
          <textarea class="card-front" placeholder="Enter question" rows="2"></textarea>
        </div>
        <div class="form-group">
          <label>Answer (Back)</label>
          <textarea class="card-back" placeholder="Enter answer" rows="2"></textarea>
        </div>
      </div>
    </div>

    <button id="add-another-btn" class="btn-secondary">+ Add Another Card</button>

    <div id="add-error" class="error hidden"></div>
    <div id="add-success" class="success hidden"></div>
    <button id="add-card-btn" class="btn-primary">Add Card(s)</button>
    <button id="open-sidebar-btn" class="btn-secondary" style="margin-top: 8px;">Expand Sidebar</button>
  </div>

  <!-- Settings View -->
  <div id="settings-view" class="container hidden">
    <div class="header">
      <h1>Settings</h1>
      <button id="settings-back-btn" class="btn-text">&larr; Back</button>
    </div>
    <div class="form-group">
      <label class="checkbox-label">
        <input type="checkbox" id="highlight-enabled" checked>
        Show "+ Flashcard" on text selection
      </label>
    </div>
    <div class="form-group">
      <label class="checkbox-label">
        <input type="checkbox" id="reminder-enabled">
        Enable study reminders
      </label>
    </div>
    <div class="form-group" id="reminder-interval-group">
      <label for="reminder-interval">Reminder interval</label>
      <select id="reminder-interval">
        <option value="30">Every 30 minutes</option>
        <option value="60">Every hour</option>
        <option value="120" selected>Every 2 hours</option>
        <option value="240">Every 4 hours</option>
        <option value="480">Every 8 hours</option>
      </select>
    </div>
    <div id="settings-saved" class="success hidden">Settings saved!</div>
    <button id="logout-btn" class="btn-text" style="margin-top: 12px; color: #f87171;">Logout</button>
  </div>

  <!-- Loading -->
  <div id="loading-view" class="container">
    <p class="loading">Loading...</p>
  </div>

  <script src="popup.js"></script>
</body>
</html>
